<?php
session_start();
if (!isset($_SESSION['user_id']) || $_SESSION['role'] !== 'admin') {
    header("Location: adminlogin.html");
    exit();
}
?>


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel</title>
    <link rel="stylesheet" href="/frontend/cssfiles/styles.css">
</head>
<body>

<!-- NAVBAR -->
<nav class="navbar">
    <span class="logo">ðŸ“š NOTEIFY</span>

    <div class="nav-links">
        <button data-page="notes">Notes</button>
        <button data-page="forum">Forum</button>
        <button data-page="rooms">Rooms</button>

        <div id="profile-nav">
            <img id="profile-pic" src="https://via.placeholder.com/35">
            <span id="profile-name">Student</span>
        </div>
    </div>
</nav>

<!-- MAIN CONTAINER -->
<div class="container">

    <!-- NOTES -->
    <div id="notes-page" class="page active">
        <h2>Notes & Resources</h2>
        <button id="open-upload">Upload Resource</button>
        <div id="resources" class="grid"></div>
    </div>

    <!-- FORUM -->
    <div id="forum-page" class="page">
        <h2>Forum</h2>
        <button id="open-post">Create Post</button>
        <div id="posts" class="grid"></div>
    </div>

    <!-- ROOMS -->
    <div id="rooms-page" class="page">
        <h2>Study Rooms</h2>
        <button id="open-room">Create Room</button>
        <div id="rooms" class="grid"></div>
    </div>

    <!-- PROFILE -->
    <div id="profile-page" class="page">
        <h2>Profile</h2>
        <input type="file" id="profile-upload">
        <input id="name" placeholder="Name">
        <select id="course">
            <option>BCA</option>
            <option>BSc CSIT</option>
        </select>
        <button id="save-profile">Save</button>
    </div>
</div>

<!-- POPUP MODAL -->
<!-- UPLOAD RESOURCE MODAL -->
<div id="upload-modal" class="modal">
    <h3>Upload Resource</h3>
    <input id="res-title" placeholder="Resource title">
    <input type="file" id="res-file" accept="application/pdf">
    <button id="save-resource">Save</button>
    <button onclick="closeModals()">Close</button>
</div>

<!-- CREATE POST MODAL -->
<div id="post-modal" class="modal">
    <h3>Create Post</h3>
    <input id="post-title" placeholder="Post title">
    <textarea id="post-content" placeholder="Post content"></textarea>
    <button id="save-post">Save</button>
    <button onclick="closeModals()">Close</button>
</div>

<!-- CREATE ROOM MODAL -->
<div id="room-modal" class="modal">
    <h3>Create Room</h3>
    <input id="room-name" placeholder="Room name">
    <textarea id="room-desc" placeholder="Room description"></textarea>
    <button id="save-room">Save</button>
    <button onclick="closeModals()">Close</button>
</div>
<div id="popup" class="modal">
    <h3 id="popup-title"></h3>
    <div id="popup-content"></div>
    <button id="open-new-tab">Open in New Tab</button>
    <button onclick="closePopup()">Close</button>
</div>



<script src="app.js"></script>
</body>
</html>